# Python Bindings CMakeLists.txt
# [REF:API-008c] - API Layer: Python-C++ Bindings

# Find pybind11
find_package(pybind11 REQUIRED)

# Create pybind11 module
add_library(test_module MODULE
    bitnet_bindings.cpp
)

# Link with pybind11
target_link_libraries(ryzen_llm_bindings PRIVATE
    pybind11::module
    ryzen_llm_core
    ryzen_llm_bitnet
    ryzen_llm_optimization
)

# Set output directory for Python module
set_target_properties(ryzen_llm_bindings PROPERTIES
    LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/python
    LIBRARY_OUTPUT_DIRECTORY_DEBUG ${CMAKE_BINARY_DIR}/python
    LIBRARY_OUTPUT_DIRECTORY_RELEASE ${CMAKE_BINARY_DIR}/python
)

# Installation
install(TARGETS ryzen_llm_bindings
    LIBRARY DESTINATION lib/python${Python_VERSION_MAJOR}.${Python_VERSION_MINOR}/site-packages/ryzen_llm
)